<!dOCTypE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Turtle Logo in Javascript, go 3D Turtle with turtle cams">
  <title>simple JS Logo</title>

  <link rel="stylesheet" href="css/pure-release-0.6.0/pure-min.css">
  <link rel="stylesheet" href="css/pure-release-0.6.0/menus-side.css">
  <!-- link rel="stylesheet" href="css/min-2.0/entireframework.min.css" -->
</head>
<body>
<div id="layout">
  <!-- Menu toggle -->
  <a href="#menu" id="menuLink" class="menu-link">
      <!-- Hamburger icon -->
      <span></span>
  </a>

  <div id="menu">
    <div class="pure-menu">
        <a class="pure-menu-heading" href="/">sjsLogo</a>
        <ul class="pure-menu-list">

            <li class="pure-menu-item">
                <a href="/easy-to-do/" class="pure-menu-link">Easy to Do</a>
            </li>

            <li class="pure-menu-item">
                <a href="/get-started/" class="pure-menu-link">Get Started</a>
            </li>

            <li class="pure-menu-item menu-item-divided">
                <a href="/more-fun/" class="pure-menu-link">More Fun</a>
            </li>

            <li class="pure-menu-item">
                <a href="/try-new-things/" class="pure-menu-link">Try New Things</a>
            </li>
        </ul>
    </div>
 </div>


 <div id="main">
  <div class="header">
      <h2>Turtle commands in Javascript</h2>
  </div>
  <div class="content">
<textarea id="logo_code" rows="7" cols="100"  style:"width:1000px; height:50px;">
  // You have a turtle named 'yurt' at the ready.
  var t = 0;
  while( t < 32 ) {
    t += 1;
    (function(t) {
      setTimeout(function() {
        yurt.home();
        yurt.cs();
        yurt.pd(); // pen down
        yurt.rt(11.25*t); //turn right
        yurt.fd(30);
        yurt.arc({radius:50, turn:"r", angle:90});
        yurt.lt(45); //turn left
        yurt.arc({radius:30, turn:"l", angle:128});
        yurt.fd(30);
        yurt.arc({radius:50, turn:"r", angle:140});
        yurt.rt(45); //turn right
        yurt.arc({radius:30, turn:"l", angle:128});
        yurt.fd(50);
      }, 100*t);
    })(t);
  }
</textarea>
<button id="process">process</button>
<div id="turtlerarium"></div>
</div>
</div>
</div>
</body>
<script src="js/jquery.js"></script>
<script src="turtle.js"></script>
<!-- script src="sjslogo.js"></script -->
<script>
  (function on_load($) {
	// sandbox for functional (saferEval)
	// create our own local versions of window and document with limited functionality
	var run_sjslogo = function (env, code) {
		// Shadow some sensitive global objects
		var locals = {
			"window": {},
			"document": {},
      "$": {},
      "jQuery": {}
		};
		// and mix in the environment
		locals = $.extend({}, locals, env);

		var createSandbox = function (env, code, locals) {
			var params = []; // the names of local variables
			var args = []; // the local variables

			for (var param in locals) {
				if (locals.hasOwnProperty(param)) {
					args.push(locals[param]);
					params.push(param);
				}
			}

			var context = Array.prototype.concat.call(env, params, code); // create the parameter list for the sandbox
			var sandbox = new (Function.prototype.bind.apply(Function, context))(); // create the sandbox function
			context = Array.prototype.concat.call(env, args); // create the argument list for the sandbox

			return Function.prototype.bind.apply(sandbox, context); // bind the local variables to the sandbox
		};

		// result is the 'this' object for the code
		//var result = {};
		var sandbox = createSandbox(env, code, locals); // create a sandbox

		sandbox(); // call the user code in the sandbox
		return env;
	};

   $('#process').on('click', function() {
     var code = $('#logo_code').val();
     run_sjslogo({}, code);
   });
  })(jQuery);

// pure-css script for a responsive menu
(function (window, document) {

    var layout   = document.getElementById('layout'),
        menu     = document.getElementById('menu'),
        menuLink = document.getElementById('menuLink');

    function toggleClass(element, className) {
        var classes = element.className.split(/\s+/),
            length = classes.length,
            i = 0;

        for(; i < length; i++) {
          if (classes[i] === className) {
            classes.splice(i, 1);
            break;
          }
        }
        // The className is not found
        if (length === classes.length) {
            classes.push(className);
        }

        element.className = classes.join(' ');
    }

    menuLink.onclick = function (e) {
        var active = 'active';

        e.preventDefault();
        toggleClass(layout, active);
        toggleClass(menu, active);
        toggleClass(menuLink, active);
    };

 }(this, this.document));
</script>
</html>
